# 🍽️ AI Meal Planner

An intelligent weekly meal planning system powered by AI, optimized for LOW-FODMAP and gluten-free diets.

**[🇮🇹 Leggi in Italiano](README_IT.md)**

## ✨ Features

### Core Features
- 📅 **Automatic weekly meal plan** generated by AI (Google Gemini)
- 🥗 **Personalized diet**: LOW-FODMAP and gluten-free customizable
- 📊 **Automatic calculation** of calories, protein, carbs, and fats
- 👤 **User personalization**: custom name and daily calorie goals
- 💾 **Persistent storage** - meal plans saved in localStorage
- 🖨️ **PDF export & print** - optimized meal plan printing
- ♻️ **Single meal regeneration** - regenerate just one meal without redoing the whole week

### Inventory & Shopping
- 📦 **Advanced inventory management** with real-time consumption tracking
- 🛒 **Smart shopping list** with auto-update when confirming purchases
- ✏️ **Inline editing** - modify ingredient quantities directly in the table
- 📊 **Sortable columns** - sort by name, quantity, remaining, or status
- 🔄 **Auto-sync** - shopping list updates automatically when confirming ingredients
- ✓ **Visual status indicators** - see which ingredients are available/missing per meal
- 🎯 **Confirmed ingredients tracking** - ingredients removed from shopping list when confirmed
- 📈 **Color-coded status**: OK (green), Low (yellow/orange), Out (red), To Define (gray)

### Search & Filters
- 📜 **Ingredients history** for quick reuse
- 🔍 **Search filters** to quickly find ingredients
- 🏷️ **Detailed meal badges** - see exactly which ingredients are missing

### Mobile & Responsive
- 📱 **Fully responsive** - works on desktop, tablet, and smartphone
- 🍎 **Optimized for iOS/iPhone and Android**
- 📱 **Compact mobile view** - abbreviated headers and emoji-only status badges
- 🔄 **PWA support** - installable as a native app (offline-first)

## 🚀 How to Use

### Online (GitHub Pages)
Simply open: **[https://lelus78.github.io/meal-plan-ai/piano_dieta_mensile_IA.html](https://lelus78.github.io/meal-plan-ai/piano_dieta_mensile_IA.html)**

### Local

1. Download the `piano_dieta_mensile_IA.html` file
2. Open it in a modern browser (Chrome, Firefox, Safari)
3. Or use the Python local server:
   ```bash
   python start_server.py
   ```

### Install as PWA (Progressive Web App)

#### On iPhone/iPad:
1. Open the site in Safari
2. Tap the Share button ⬆️
3. Scroll and tap "Add to Home Screen"
4. The app will appear on your home screen

#### On Android:
1. Open the site in Chrome
2. Tap "Install" banner or
3. Menu (⋮) → "Add to Home screen"

#### On Desktop:
1. Click the install icon in the address bar
2. Or: Menu → "Install Piano Dieta"

## 🔑 API Key Configuration

The system uses Google Gemini AI. To use it:

1. Go to [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Create a free API Key
3. Click ⚙️ **Settings** in the app
4. Paste your API Key
5. Click **Save**

⚠️ **Privacy**: Your API Key is stored only in your browser (localStorage) and is never shared.

## 📱 Compatibility

- ✅ Chrome (Desktop & Mobile)
- ✅ Firefox (Desktop & Mobile)
- ✅ Safari (Desktop & Mobile)
- ✅ Edge
- ✅ iPhone/iPad (Safari)
- ✅ Android (Chrome)

## 🛠️ Technologies Used

- HTML5
- JavaScript (ES6+)
- [Tailwind CSS](https://tailwindcss.com/) - CSS Framework
- [Google Gemini AI](https://ai.google.dev/) - Meal plan generation
- LocalStorage API - Data persistence
- Service Workers - PWA & offline support

## 📝 Main Features

### Ingredients Management
- **Manual Input Tab**: Enter ingredients with quantities
- **History Tab**: Quickly reuse previously used ingredients
- **Shopping List Tab**:
  - Mark ingredients as purchased
  - ✓ Confirm button to add to inventory
  - Automatic removal from shopping list when confirmed
  - Quick quantity adjustment before confirming

### Meal Plan
- 5 meals per day (Breakfast, 2 Snacks, Lunch, Dinner)
- Optimized calorie distribution
- Variety in meals to avoid repetition
- **Visual ingredient status badges**:
  - Shows "X ingredienti mancanti" + "Y disponibili"
  - ✓ checkmark for available ingredients
  - 🛒 icon for missing ingredients
  - Auto-update when ingredients are confirmed
- 🔄 Regenerate single meals with AI alternatives
- 🎨 Color-coded meal cards (orange = missing ingredients, normal = complete)

### Inventory Management
- **Bulletproof inventory** - shows ALL ingredients from meal plan
- **Real-time quantity tracking** with consumption monitoring
- **Sortable table** - click headers to sort by:
  - Name (alphabetical)
  - Initial quantity
  - Remaining quantity (great for restocking!)
  - Status priority (To Define → Out → Low → OK)
- **Inline editing** - click ✏️ to modify quantities
- **Color-coded status**:
  - ✓ OK (green) - >50% remaining
  - ⚡ Low (yellow/orange) - 20-50% remaining
  - ⚠ Out (red) - <20% or exhausted
  - ⚙️ To Define (gray) - no quantity set
- **Refresh button** (🔄) to rebuild inventory from plan
- **Mobile optimized** - emoji-only badges on small screens
- Dynamic updates when purchasing new ingredients

### PWA Features
- 📱 Install as native app
- ⚡ Offline-first (works without internet after first load)
- 🚀 Fast loading (intelligent caching)
- 💾 Background sync

### Export & Print
- 🖨️ Print optimized layouts
- 📄 Full week in printable format
- 🛒 Shopping list included
- 📊 Daily nutritional totals

## 🤝 Contributing

This is a personal project. Feel free to fork and adapt it to your needs!

See [CONTRIBUTING.md](CONTRIBUTING.md) for development workflow.

## 📄 License

Personal use - All rights reserved

## 👨‍💻 Author

Created with ❤️

## 🌟 Changelog

See [CHANGELOG.md](CHANGELOG.md) for version history.

---

**Note**: Never share your Google API Key publicly!
